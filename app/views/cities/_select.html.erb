<%= stop_observer(:person_state_id) %>
<%= observe_field(:person_state_id, :update => 'select_person_city_id', :url => { :action => :update_select, :params => { :object => :person, :partial => 'cities' }}, :with => "'id='+value", :on => 'click') %>

<div id="select_person_city_id">
<p><label>Ciudad<span class="required">*</span></label>
<% if !id.nil? and id.to_i == 9 %>
  Ciudad de MÃ©xico 
  <%= hidden_field :person, :city_id, :value => 64 %>
<% else %>
	<%= select_conditions :cities, :attributes => %w(name), :conditions => "cities.state_id = #{id}", :order => 'cities.name ASC', :required => true, :object_name => object %>
	<%= link_to_remote 'Otra', :update => 'select_person_city_id', :url => { :action => :update_partial, :params => {:partial => 'city'} }%>
<% end %>
</p><br/>
</div>
